FROM registry.redhat.io/ubi9/python-311@sha256:2b146175c70c878a0cfdd57f5dbb165f2a7d386a57339a71b870b2432eb10513

LABEL description="This image provides a data collection service for segment"
LABEL io.k8s.description="This image provides a data collection service for segment"
LABEL io.k8s.display-name="segment collection"
LABEL io.openshift.tags="segment,segment-collection"
LABEL summary="Provides the segment data collection service"
LABEL com.redhat.component="segment-collection"


USER 0

WORKDIR /opt/app-root/src/

COPY . .

RUN pip install -U pip 
RUN pip install /opt/app-root/src/requirements-build.txt --force-reinstall
RUN pip install /opt/app-root/src/requirements.txt --force-reinstall
USER 1001